<!-- https://zhuanlan.zhihu.com/p/51842336 -->
<!-- https://blog.csdn.net/weixin_41697143/article/details/82758630 -->

CDN（Content delivery networks，内容分发网络）
其目的是通过在源服务器和用户之间增加一层新的网络架构，将网站的内容分发到最接近用户的网络“边缘”，使用户可以就近取得所需的内容，提高用户访问网站的响应速度。我们的日常生活中，无论是在网站上看新闻，网上购物，观看视频，还是聊天，都和CDN息息相关。

好处:
提升网页加载速度
处理高流量负载
减少带宽消耗
在多台服务器间均衡负载
使你的网站免于DDoS（拒绝服务）的攻击
……


## 没有使用CDN 用户请求
1. 用户在浏览器中输入要访问的域名。
2. 浏览器向DNS服务器请求对该域名的解析。
3. DNS服务器返回该域名的IP地址给浏览器。
4. 浏览器使用该IP地址向服务器请求内容。
5. 服务器将用户请求的内容返回给浏览器。

## 如果使用了CDN，则其过程会变成以下这样
1. 用户在浏览器中输入要访问的域名。
浏览器向DNS服务器请求对域名进行解析。由于CDN对域名解析进行了调整，DNS服务器会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。
2. CDN的DNS服务器将CDN的负载均衡设备IP地址返回给用户。
3. 用户向CDN的负载均衡设备发起内容URL访问请求。
4. CDN负载均衡设备会为用户选择一台合适的缓存服务器提供服务。
  选择的依据包括：
  根据用户IP地址，判断哪一台服务器距离用户最近；
  根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；
  查询各个服务器的负载情况，判断哪一台服务器的负载较小。
  基于以上这些依据的综合分析之后，负载均衡设置会把缓存服务器的IP地址返回给用户。
5. 用户向缓存服务器发出请求。
6. 缓存服务器响应用户请求，将用户所需内容传送到用户。
7. 如果这台缓存服务器上并没有用户想要的内容，而负载均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉取到本地。